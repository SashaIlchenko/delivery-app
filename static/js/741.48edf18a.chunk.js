"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[741],{741:function(n,e,t){t.r(e),t.d(e,{default:function(){return R}});var r,a,o,i,s,c,u,p,d,l,x,f,h,g,m,b=t(168),Z=t(885),v=t(791),y=t(413),j=t(705),w=t(686),k=(0,w.Z)(j.l0)(r||(r=(0,b.Z)(["\nwidth: 300px;\nheight: 447px;\npadding: 30px;\nmargin-right:auto;\nmargin-left:auto;\nmargin-top:30px;\nbackground-image: linear-gradient(to bottom, #008080\n0%, #008080 69%, #E0FFFF 100%);\n box-shadow: -3px 7px 21px 0 rgba(0, 0, 0, 0.23);\n border-radius: 21px;\ndisplay: flex;\nflex-direction: column;\ngap: 10px;"]))),F=w.Z.label(a||(a=(0,b.Z)(["\ndisplay: flex;\nflex-direction: column;\ncolor: #fff;\nfont-size:24px;\nfont-weight: 600;"]))),S=(0,w.Z)(j.gN)(o||(o=(0,b.Z)(["\nmargin-top:10px;\npadding-left: 15px;\nborder-radius: 3px;\nborder: none;\nheight: 50px;"]))),_=(w.Z.button(i||(i=(0,b.Z)(["\nfont-size:18px;\nfont-weight: 500;\nmargin-top: 10px;\npadding:8px;\nweight: 150px;\ncolor: #fff;\nopacity: 0.7;\nborder: none;\nborder-radius:3px;\nbackground-color: #008080;\n&:hover {\n    opacity: 1;\n}"]))),t(984)),z=t(184),A={name:"",email:"",phone:"",address:""},E=function(n){var e=n.onSubmit;return(0,z.jsx)(j.J9,{initialValues:A,onSubmit:function(n,t){var r=t.resetForm;e((0,y.Z)({id:(0,_.x0)()},n)),r()},children:(0,z.jsxs)(k,{children:[(0,z.jsxs)(F,{children:["Name",(0,z.jsx)(S,{type:"text",name:"name",pattern:"^[a-zA-Za-\u044f\u0410-\u042f]+(([' -][a-zA-Za-\u044f\u0410-\u042f ])?[a-zA-Za-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"Name"})]}),(0,z.jsxs)(F,{children:["Email",(0,z.jsx)(S,{type:"email",name:"email",title:"Email contain @",required:!0,placeholder:"email"})]}),(0,z.jsxs)(F,{children:["Phone",(0,z.jsx)(S,{type:"tel",name:"phone",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"phone"})]}),(0,z.jsxs)(F,{children:["Adress",(0,z.jsx)(S,{type:"address",name:"address",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2, 4}$",title:"Adress must be comtain the city and street",required:!0,placeholder:"address"})]}),(0,z.jsx)("button",{type:"submit",children:"Add contact"})]})})},N=t(861),C=t(762),P=t(942),O=t(687),J=t.n(O),q=w.Z.ul(s||(s=(0,b.Z)(["\nmargin-top: 30px;\ndisplay: flex;\nflex-wrap: wrap;\ngap: 48px;\nalign-items:center;\njustify-content: center;\n"]))),B=w.Z.li(c||(c=(0,b.Z)(["\npadding-bottom:36px;\nwidth: 380px;\nlist-style: none;\nbackground-image: linear-gradient(to bottom, #008080\n0%, #008080 69%, #E0FFFF 100%);\n box-shadow: -3px 7px 21px 0 rgba(0, 0, 0, 0.23);\n border-radius: 21px;"]))),D=w.Z.div(u||(u=(0,b.Z)(["\nmargin-bottom: 16px;\npadding: 20px;\nwidth:340px;\nbox-shadow: 0 3px 3px 0 rgba(0, 0, 0, 0.25),\ninset 0 3px 3px 0 rgba(251, 248, 255, 0.06),\ninset 0 -2px 3px 0 rgba(174, 123, 227, 0.25);\n "]))),I=w.Z.img(p||(p=(0,b.Z)(["\nwidth:300px;\nheight:200px;\nborder-radius:16px;\nmargin-left: auto;\nmargin-right:auto;\nborder:8px solid #EBD8FF;\nbox-shadow: 0 3px 3px 0 rgba(0, 0, 0, 0.25),\ninset 0 3px 3px 0 rgba(251, 248, 255, 0.06),\ninset 0 -2px 3px 0 rgba(174, 123, 227, 0.25); \n"]))),$=w.Z.p(d||(d=(0,b.Z)(["\nmargin-bottom:16px;\ntext-align: center;\nfont-size: 20px;\nfont-weight: 500;\nline-height:1.2;\ncolor:#EBD8FF;\n"]))),M=w.Z.div(l||(l=(0,b.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.2);\n  border-radius: 10px;\n"]))),T=w.Z.button(x||(x=(0,b.Z)(["\n  width: 30px;\n  align-items: center;\n  font-size: 16px;\n  border: none;\n  background-color: transparent;\n  color: #fff;\n  cursor: pointer;\n"]))),V=w.Z.input(f||(f=(0,b.Z)(["\n  text-align: center;\n  width: 30px;\n  font-size: 16px;\n  border: none;\n  background-color: transparent;\n  color:#fff;\n"]))),Y=w.Z.button(h||(h=(0,b.Z)(["\nmargin-top:20px;\nwidth: 50px;\nmargin-left: auto;\nmargin-right: auto;\ncolor: #373737;\nbackground-color: #EBD8FF;\nborder-radius: 10.31px;\n&:focus, &:hover {\n  background-color: #008080;\n    cursor: pointer;\n     color: #fff;\n};\n &.active {\n    background-color: #5CD3A8;\n  }\n"]))),G=w.Z.p(g||(g=(0,b.Z)(["\nfont-size:24px;\nfont-weight: 600;\nmargin-top: 30px;"]))),H=t(313),K=t(218),L=t(611),Q=function(n){var e=n.user,t=(0,v.useState)([]),r=(0,Z.Z)(t,2),a=r[0],o=r[1],i=(0,v.useState)(JSON.parse(localStorage.getItem("count"))||1),s=(0,Z.Z)(i,2),c=s[0],u=s[1],p=(0,v.useState)(0),d=(0,Z.Z)(p,2),l=d[0],x=d[1];(0,v.useEffect)((function(){var n=JSON.parse(localStorage.getItem("order"));o(n)}),[]),(0,v.useEffect)((function(){localStorage.setItem("order",JSON.stringify(a)),localStorage.setItem("count",JSON.stringify(c));var n=a.reduce((function(n,e){return Number(n+e.price*c[e._id])}),0);x(n)}),[a,c]);var f=function(n){var e,t=a.filter((function(e){return e._id===n})),r=(0,C.Z)(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;return Number(o.price)*c[n]}}catch(i){r.e(i)}finally{r.f()}},h=function(){var n=(0,N.Z)(J().mark((function n(){return J().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return",K.Am.error("Please, type all inputs of form"));case 2:return[].push({user:e},{currentOrder:a,count:c,totalPrice:l}),n.prev=4,n.next=7,(0,L.f)({user:e,currentOrder:a,count:c,totalPrice:l});case 7:return n.abrupt("return",n.sent);case 10:n.prev=10,n.t0=n.catch(4),console.log(n.t0);case 13:console.log({user:e,currentOrder:a,count:c,totalPrice:l});case 14:case"end":return n.stop()}}),n,null,[[4,10]])})));return function(){return n.apply(this,arguments)}}();return(0,z.jsxs)("div",{children:[a?(0,z.jsxs)(q,{children:[" ",a.map((function(n){return(0,z.jsxs)(B,{children:[(0,z.jsx)(D,{children:(0,z.jsx)(I,{src:n.photo,alt:n.title})}),(0,z.jsxs)("div",{children:[(0,z.jsxs)($,{children:["Price: ",f(n._id)||n.price]}),(0,z.jsx)($,{children:n.title})]}),(0,z.jsxs)(M,{children:[(0,z.jsx)(T,{type:"button",onClick:function(){return e=n._id,void u((function(n){var t=(n[e]||0)-1;return(0,y.Z)((0,y.Z)({},n),{},(0,P.Z)({},e,t>=0?t:0))}));var e},children:"-"}),(0,z.jsx)(V,{type:"text",name:"counter",value:c[n._id]||0,readOnly:!0}),(0,z.jsx)(T,{type:"button",onClick:function(){return e=n._id,void u((function(n){return(0,y.Z)((0,y.Z)({},n),{},(0,P.Z)({},e,(n[e]||0)+1))}));var e},children:"+"})]}),(0,z.jsx)(Y,{type:"button",onClick:function(){return function(n){var e=a.filter((function(e){return e._id!==n}));o(e)}(n._id)},children:(0,z.jsx)(H.Ybf,{})})]},n._id)}))]}):"Please, add products!",(0,z.jsxs)(G,{children:["Total price: ",l||"Please, select count of all orders"," "]}),(0,z.jsx)("button",{type:"submit",onClick:h,children:"Sumbit"})]})},R=function(){var n=(0,v.useState)(null),e=(0,Z.Z)(n,2),t=e[0],r=e[1];console.log(t);var a=w.Z.div(m||(m=(0,b.Z)(["\n    display: flex;\n    align-items: flex-start;"])));return(0,z.jsxs)(a,{children:[(0,z.jsx)(E,{onSubmit:function(n){r(n)}}),(0,z.jsx)(Q,{user:t})]})}},611:function(n,e,t){t.d(e,{E:function(){return u},f:function(){return d}});var r=t(413),a=t(861),o=t(687),i=t.n(o),s=t(243),c="http://localhost:3001/api";function u(){return p.apply(this,arguments)}function p(){return(p=(0,a.Z)(i().mark((function n(){var e;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.Z.get("".concat(c,"/products/"));case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function d(n){return l.apply(this,arguments)}function l(){return(l=(0,a.Z)(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.Z.post("".concat(c,"/orders/"),(0,r.Z)({},e));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=741.48edf18a.chunk.js.map